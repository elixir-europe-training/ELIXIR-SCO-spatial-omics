[
  {
    "objectID": "index.html#overview",
    "href": "index.html#overview",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Overview",
    "text": "Overview\nThis course delves into the cutting-edge field of Spatial Omics, focusing on Spatially-Resolved Transcriptomics (SRT) technology which provides unprecedented insights into the spatial organization of gene expression within tissues. The rapid and recent advances in SRT technology are transforming our understanding of biological systems, and this course is designed to equip researchers with the tools to harness the power of SRT, adding significant value to biological knowledge and opening new avenues for scientific discovery.\nParticipants will explore both imaging-based and sequencing-based SRT technologies, learning to navigate the entire workflow of SRT data analysis. The course covers essential topics such as pre-processing techniques for data cleaning, normalization, and quality control, methods for identifying and characterizing spatial domains within tissues, strategies for integrating SRT data with single-cell RNA sequencing data, and statistical approaches to analyze spatial patterns and relationships. Additionally, participants will investigate interactions between cells within their spatial context. By the end of this course, participants will be equipped with the knowledge and skills to construct a complete workflow for SRT data analysis, from raw data to meaningful biological insights. The course combines lectures with practical sessions, ensuring a balanced approach to theory and hands-on experience.\nThe course materials will be on the dedicated GitHub page."
  },
  {
    "objectID": "index.html#audience",
    "href": "index.html#audience",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Audience",
    "text": "Audience\nThis 3-day course is addressed to PhD students, postdocs, and researchers who are involved (or will be in the near future) in projects including spatially-resolved transcriptomics data, and want to acquire the skills to get started with spatial data analysis."
  },
  {
    "objectID": "index.html#learning-outcomes",
    "href": "index.html#learning-outcomes",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Learning outcomes",
    "text": "Learning outcomes\nAt the end of the course, the participants will be able to:\n\nIdentify and recall key concepts and terminology related to imaging- and sequencing-based SRT technologies.\nAssess and evaluate quality of SRT data.\nPerform standard SRT data analysis, including data cleaning, normalization, quality control.\nExamine and interpret spatial patterns and relationships within SRT data using statistical and machine learning approaches.\nConstruct a comprehensive workflow for SRT data analysis, from raw data to meaningful biological insights."
  },
  {
    "objectID": "index.html#prerequisites",
    "href": "index.html#prerequisites",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Prerequisites",
    "text": "Prerequisites\n\nKnowledge / competencies\nParticipants should be proficient in Python and R, for basic data analysis.\nParticipants should be familiar with NGS technologies, have experience with analyzing (spatial/single-cell) transcriptomics data as well as basic knowledge of machine learning.\nParticipants should also have a basic understanding of working with command line tools on Unix-based systems. You can test your skills with Unix with the quiz here. If you do not feel comfortable with UNIX commands, please take our Unix fundamentals e-learning module.\n\n\nTechnical\nParticipants are required to bring your own laptop.\nWe will be mainly working on an Amazon Web Services (AWS) Elastic Cloud (EC2) server. Our Ubuntu server behaves like a ‘normal’ remote server, and can be approached through a web browser (safari, firefox, chrome etc.). All participants will be granted access to a personal workspace to be used during the course. The web interface will be approached through http (not https!), so make sure you can access http sites. You can validate it here.\nPlease perform these installations PRIOR to the course and contact us if you have any trouble."
  },
  {
    "objectID": "index.html#schedule---cet-time-zone",
    "href": "index.html#schedule---cet-time-zone",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Schedule - CET time zone",
    "text": "Schedule - CET time zone\nDay 1 (13:00 -17:00)\n\nOverview of technologies\nImaging-based data preprocessing\nSegmentation-free analysis\n\nDay 2 (09:00 -17:00)\n\nSequence-based data preprocessing\nIntegration with scRNA-seq\nMulti-omics spatial data analysis\n\nDay 3 (09:00 -17:00)\n\nGraph representations and Niche reconstruction\nSpatial domain identification/spatial annotation\nSpatial statistics\n\nDay 4 (09:00 -12:30)\n\nCell-cell communication"
  },
  {
    "objectID": "index.html#the-trainers",
    "href": "index.html#the-trainers",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "The trainers",
    "text": "The trainers\nThe course will feature the following lecturers and trainers:\n\nLars Borm (Katholieke Universiteit (KU) Leuven & Vlaams Instituut voor Biotechnologie (VIB), BE)\nHelena Crowell (Centro Nacional de Análisis Genómico (CNAG), ES)\nFrancesca Drummer (Helmholtz Zentrum München, DE)\nGeorge Gavrillidis (Centre for Research and Technology Hellas (CERTH), GR)\nGeert van Geest (SIB Swiss Institute of Bioinformatics, CH)\nNaveed Ishaque (Berlin Institute of Health (BIH), DE)\nAhmed Mahfouz (Leiden University Medical Center (LUMC), NL)\nMark Robinson (University of Zurich (UZH) & SIB, CH)\nYvan Saeys (University of Ghent (UGent) & Vlaams Instituut voor Biotechnologie (VIB), BE)\nRasool Saghaleyni (SciLifeLab, SE)\nAnna Schaar (Helmholtz Zentrum München, DE)\nMarco Varrone (University of Lausanne (UNIL) & SIB, CH)"
  },
  {
    "objectID": "index.html#application",
    "href": "index.html#application",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Application",
    "text": "Application\nRegistration fees are 150 CHF for academics and 750 CHF for for-profit companies.\nParticipants will be selected based on several criteria. Selection criteria include correct entry requirements, motivation to attend the course as well as gender and ELIXIR nodes balance.\nTo apply to this course and enter the selection process, please fill in this questionnaire.\nApplications will close 01/11/2024. The applications selection will start the week of the 05/11/2024. Accepted applicants will be notified by email by during the week of the 11/11/2024 and they will have until 27/11/2024 to confirm their attendance by paying the fees within 5 days.\nDeadline for free-of-charge cancellation is set to 27/11/2024. Cancellation after this date will not be reimbursed."
  },
  {
    "objectID": "index.html#venue-and-time",
    "href": "index.html#venue-and-time",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Venue and Time",
    "text": "Venue and Time\nThis course will take place at the University of Lausanne, in the Synathlon building of the campus.\nThe course will start the first day at 13:00. A lunch will be provided before the start of the course as well as at the end of the course on the last day.\nAll participants are invited to the social dinner, organized on 21 January 2024.\nPrecise information will be provided to the participants in due time."
  },
  {
    "objectID": "index.html#additional-information",
    "href": "index.html#additional-information",
    "title": "ELIXIR-SCO-spatial-transcriptomics",
    "section": "Additional information",
    "text": "Additional information\nThis is an international course hosted by the SIB Swiss Institute of Bioinformatics (ELIXIR-CH) in collaboration with the ELIXIR Single-Cell Omics community, and trainers’ own institutions and affiliations to ELIXIR nodes (KU Leuven, VIB, CNAG, Helmholtz Zentrum München, CERTH, SIB, BIH, LUMC, UZH, UGent, SciLifeLab, UNIL).\nCourse organizers:\n\nAhmed Mahfouz, Leiden University Medical Center (LUMC), ELIXIR - Netherlands\nDiana Marek, SIB Training group, ELIXIR - Switzerland\nPatricia Palagi, SIB Training group, ELIXIR - Switzerland\nEija Korpelainen, CSC, ELIXIR - Finland\n\nThis course is partially funded by an ELIXIR Staff Exchange Programme.\nWe will recommend 0.75 ECTS credits for this course (given a passed assessment).\nYou are welcome to register to the SIB courses mailing list to be informed of all future courses and workshops, as well as all important deadlines using the form here.\nPlease note that participation in SIB courses is subject to our general conditions.\nCourse organizers and trainers abide by the ELIXIR Code of Conduct. Participants are also required to abide by the same code."
  },
  {
    "objectID": "day_1/practical_1/imaging_based_data_analysis.html",
    "href": "day_1/practical_1/imaging_based_data_analysis.html",
    "title": "Practical 1: Imaging-Based Data Analysis with Xenium (Mouse Brain, Cancer)",
    "section": "",
    "text": "Author: Rasool Saghaleyni\n\n##\nimport os\nfrom pathlib import Path\nimport subprocess\n\nurls = [\n    \"https://cf.10xgenomics.com/samples/xenium/2.0.0/Xenium_V1_humanLung_Cancer_FFPE/Xenium_V1_humanLung_Cancer_FFPE_he_image.ome.tif\",\n    \"https://cf.10xgenomics.com/samples/xenium/2.0.0/Xenium_V1_humanLung_Cancer_FFPE/Xenium_V1_humanLung_Cancer_FFPE_he_imagealignment.csv\",\n    \"https://cf.10xgenomics.com/samples/xenium/2.0.0/Xenium_V1_humanLung_Cancer_FFPE/Xenium_V1_humanLung_Cancer_FFPE_outs.zip\",\n]\n\n##\n# download the data\nfor url in urls:\n    filename = Path(url).name\n    os.makedirs(\"data\", exist_ok=True)\n    command = f\"curl -o {'data/' + filename} {url}\"\n    subprocess.run(command, shell=True, check=True)\n\n# ##\n# unzip the data\nsubprocess.run(\n    f\"unzip -o data/Xenium_V1_humanLung_Cancer_FFPE_outs.zip -d data/xenium_2.0.0_io\",\n    shell=True,\n    check=True,\n)\n\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 1135M  100 1135M    0     0  35.6M      0  0:00:31  0:00:31 --:--:-- 37.8M\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   126  100   126    0     0    817      0 --:--:-- --:--:-- --:--:--   818\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100 7617M  100 7617M    0     0  36.3M      0  0:03:29  0:03:29 --:--:-- 35.4M\n\n\nArchive:  data/Xenium_V1_humanLung_Cancer_FFPE_outs.zip\n extracting: data/xenium_2.0.0_io/analysis.zarr.zip  \n  inflating: data/xenium_2.0.0_io/cell_boundaries.csv.gz  \n  inflating: data/xenium_2.0.0_io/cell_boundaries.parquet  \n  inflating: data/xenium_2.0.0_io/cell_feature_matrix.h5  \n extracting: data/xenium_2.0.0_io/cell_feature_matrix.zarr.zip  \n  inflating: data/xenium_2.0.0_io/cells.csv.gz  \n  inflating: data/xenium_2.0.0_io/cells.parquet  \n extracting: data/xenium_2.0.0_io/cells.zarr.zip  \n  inflating: data/xenium_2.0.0_io/experiment.xenium  \n  inflating: data/xenium_2.0.0_io/gene_panel.json  \n  inflating: data/xenium_2.0.0_io/metrics_summary.csv  \n  inflating: data/xenium_2.0.0_io/nucleus_boundaries.csv.gz  \n  inflating: data/xenium_2.0.0_io/nucleus_boundaries.parquet  \n  inflating: data/xenium_2.0.0_io/transcripts.csv.gz  \n  inflating: data/xenium_2.0.0_io/transcripts.parquet  \n extracting: data/xenium_2.0.0_io/transcripts.zarr.zip  \n  inflating: data/xenium_2.0.0_io/analysis_summary.html  \n  inflating: data/xenium_2.0.0_io/morphology.ome.tif  \n  inflating: data/xenium_2.0.0_io/analysis.tar.gz  \n  inflating: data/xenium_2.0.0_io/aux_outputs.tar.gz  \n  inflating: data/xenium_2.0.0_io/cell_feature_matrix.tar.gz  \n   creating: data/xenium_2.0.0_io/morphology_focus/\n  inflating: data/xenium_2.0.0_io/morphology_focus/morphology_focus_0000.ome.tif  \n  inflating: data/xenium_2.0.0_io/morphology_focus/morphology_focus_0001.ome.tif  \n  inflating: data/xenium_2.0.0_io/morphology_focus/morphology_focus_0002.ome.tif  \n  inflating: data/xenium_2.0.0_io/morphology_focus/morphology_focus_0003.ome.tif  \n\n\nCompletedProcess(args='unzip -o data/Xenium_V1_humanLung_Cancer_FFPE_outs.zip -d data/xenium_2.0.0_io', returncode=0)\n\n\n\nfrom spatialdata_io import xenium\nimport spatialdata as sd\nfrom pathlib import Path\nimport shutil\n\npath = Path().resolve() / \"data/xenium_2.0.0_io\"\nassert path.exists(), f\"Path {path} does not exist.\"\npath_read = path \npath_write = Path().resolve() / \"data.zarr\"\nprint(\"Parsing the data... \", end=\"\")\nsdata = xenium(\n    path=str(path_read),\n    n_jobs=8,\n    cell_boundaries=True,\n    nucleus_boundaries=True,\n    morphology_focus=True,\n    cells_as_circles=True,\n)\nif path_write.exists():\n    shutil.rmtree(path_write)\nsdata.write(path_write)\n# Reading and verifying the output\nsdata = sd.SpatialData.read(str(path_write))\nprint(sdata)\n\nReading data from: /Users/rasools/Library/CloudStorage/OneDrive-Chalmers/Documents/github/ELIXIR-SCO-spatial-transcriptomics/day_1/practical_1/data/xenium_2.0.0_io\nWriting data to: /Users/rasools/Library/CloudStorage/OneDrive-Chalmers/Documents/github/ELIXIR-SCO-spatial-transcriptomics/day_1/practical_1/data.zarr\nParsing the data... INFO     reading                                                                                                   \n         /Users/rasools/Library/CloudStorage/OneDrive-Chalmers/Documents/github/ELIXIR-SCO-spatial-transcriptomics/\n         day_1/practical_1/data/xenium_2.0.0_io/cell_feature_matrix.h5                                             \n\n\n/var/folders/8l/yj6nz8296zd7wwj0xy6pw3880000gn/T/ipykernel_2082/1897399642.py:22: DeprecationWarning: `cell_boundaries` is being deprecated as an argument to `xenium.xenium` in SpatialData version 0.1, switch to `cells_boundaries` instead.\n  sdata = xenium(\n\n\n\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\nCell In[8], line 22\n     20 # Parsing the data\n     21 print(\"Parsing the data... \", end=\"\")\n---&gt; 22 sdata = xenium(\n     23     path=str(path_read),\n     24     n_jobs=8,\n     25     cell_boundaries=True,\n     26     nucleus_boundaries=True,\n     27     morphology_focus=True,\n     28     cells_as_circles=True,\n     29 )\n     30 print(\"done\")\n     32 # Writing the data to the output path\n\nFile ~/miniconda3/envs/imaging_based_data_analysis_env/lib/python3.9/site-packages/spatialdata_io/_utils.py:46, in deprecation_alias.&lt;locals&gt;.deprecation_decorator.&lt;locals&gt;.wrapper(*args, **kwargs)\n     44 class_name = f.__qualname__\n     45 rename_kwargs(f.__name__, kwargs, aliases, class_name)\n---&gt; 46 return f(*args, **kwargs)\n\nFile ~/miniconda3/envs/imaging_based_data_analysis_env/lib/python3.9/site-packages/spatialdata_io/readers/xenium.py:334, in xenium(path, cells_boundaries, nucleus_boundaries, cells_as_circles, cells_labels, nucleus_labels, transcripts, morphology_mip, morphology_focus, aligned_images, cells_table, n_jobs, imread_kwargs, image_models_kwargs, labels_models_kwargs)\n    330 assert (\n    331     \"c_coords\" not in image_models_kwargs\n    332 ), \"The channel names for the morphology focus images are handled internally\"\n    333 image_models_kwargs[\"c_coords\"] = list(channel_names.values())\n--&gt; 334 images[\"morphology_focus\"] = _get_images(\n    335     morphology_focus_dir,\n    336     XeniumKeys.MORPHOLOGY_FOCUS_CHANNEL_IMAGE.format(0),\n    337     imread_kwargs,\n    338     image_models_kwargs,\n    339 )\n    340 del image_models_kwargs[\"c_coords\"]\n    341 logger.removeFilter(IgnoreSpecificMessage())\n\nFile ~/miniconda3/envs/imaging_based_data_analysis_env/lib/python3.9/site-packages/spatialdata_io/readers/xenium.py:564, in _get_images(path, file, imread_kwargs, image_models_kwargs)\n    558 if \"c_coords\" in image_models_kwargs and \"dummy\" in image_models_kwargs[\"c_coords\"]:\n    559     # Napari currently interprets 4 channel images as RGB; a series of PRs to fix this is almost ready but they will\n    560     # not be merged soon.\n    561     # Here, since the new data from the xenium analyzer version 2.0.0 gives 4-channel images that are not RGBA,\n    562     # let's add a dummy channel as a temporary workaround.\n    563     image = da.concatenate([image, da.zeros_like(image[0:1])], axis=0)\n--&gt; 564 return Image2DModel.parse(\n    565     image, transformations={\"global\": Identity()}, dims=(\"c\", \"y\", \"x\"), rgb=None, **image_models_kwargs\n    566 )\n\nFile ~/miniconda3/envs/imaging_based_data_analysis_env/lib/python3.9/site-packages/spatialdata/models/models.py:189, in RasterSchema.parse(cls, data, dims, transformations, scale_factors, method, chunks, **kwargs)\n    183         raise ValueError(\n    184             f\"Cannot transpose arrays to match `dims`: {dims}.\",\n    185             \"Try to reshape `data` or `dims`.\",\n    186         ) from e\n    188 # finally convert to spatial image\n--&gt; 189 data = to_spatial_image(array_like=data, dims=cls.dims.dims, **kwargs)\n    190 # parse transformations\n    191 _parse_transformations(data, transformations)\n\nTypeError: to_spatial_image() got an unexpected keyword argument 'rgb'\n\n\n\n\nxenium_path = \"./data/xenium_2.0.0.zarr\"\n\n\n%%time\nimport spatialdata as sd\n\nsdata = sd.read_zarr(xenium_path)\nsdata\n\nCPU times: user 1.81 ms, sys: 3.87 ms, total: 5.67 ms\nWall time: 13.5 ms\n\n\nSpatialData object, with associated Zarr store: /Users/rasools/Library/CloudStorage/OneDrive-Chalmers/Documents/github/ELIXIR-SCO-spatial-transcriptomics/day_1/practical_1/data/Xenium_V1_FFPE_TgCRND8_17_9_months_outs\nwith coordinate systems:\n\nwith the following elements in the Zarr store but not in the SpatialData object:\n    ▸ gene (Density)\n    ▸ 5 (Cell_groups)\n    ▸ 4 (Grids)\n    ▸ 3 (Cell_groups)\n    ▸ 9 (Cell_groups)\n    ▸ 5 (Grids)\n    ▸ 8 (Cell_groups)\n    ▸ 1 (Cell_groups)\n    ▸ 2 (Grids)\n    ▸ 0 (Cell_groups)\n    ▸ 7 (Cell_groups)\n    ▸ 0 (Grids)\n    ▸ 4 (Cell_groups)\n    ▸ 3 (Grids)\n    ▸ 1 (Grids)\n    ▸ 2 (Cell_groups)\n    ▸ 6 (Cell_groups)\n\n\n\nimport scanpy as sc\n\nsc.pp.normalize_total(sdata.tables[\"table\"])\nsc.pp.log1p(sdata.tables[\"table\"])\nsc.pp.highly_variable_genes(sdata.tables[\"table\"])\nsdata.tables[\"table\"].var.sort_values(\"means\")\n\n\n---------------------------------------------------------------------------\nKeyError                                  Traceback (most recent call last)\nCell In[38], line 3\n      1 import scanpy as sc\n----&gt; 3 sc.pp.normalize_total(sdata.tables[\"table\"])\n      4 sc.pp.log1p(sdata.tables[\"table\"])\n      5 sc.pp.highly_variable_genes(sdata.tables[\"table\"])\n\nFile ~/miniconda3/envs/imaging_based_data_analysis_env/lib/python3.9/collections/__init__.py:1058, in UserDict.__getitem__(self, key)\n   1056 if hasattr(self.__class__, \"__missing__\"):\n   1057     return self.__class__.__missing__(self, key)\n-&gt; 1058 raise KeyError(key)\n\nKeyError: 'table'\n\n\n\n\ndocker build --no-cache --platform=linux/amd64 -t docker.io/rasoolsnbis/estc_2025:p1 -f \"day_1/practical_1/Dockerfile\" \"day_1/practical_1\""
  },
  {
    "objectID": "day_2/practical_3/workdir/practical_3.html",
    "href": "day_2/practical_3/workdir/practical_3.html",
    "title": "Computational analysis of spatial transcriptomics data",
    "section": "",
    "text": "1. Spatial data download and format\n2. Spatial imputation with SpaGE\n3. Spatial clusering with BANKSY\n4. Cell-cell communication with LIANA+"
  },
  {
    "objectID": "day_2/practical_3/workdir/practical_3.html#brainomics-2.0---day-3",
    "href": "day_2/practical_3/workdir/practical_3.html#brainomics-2.0---day-3",
    "title": "Computational analysis of spatial transcriptomics data",
    "section": "",
    "text": "1. Spatial data download and format\n2. Spatial imputation with SpaGE\n3. Spatial clusering with BANKSY\n4. Cell-cell communication with LIANA+"
  }
]